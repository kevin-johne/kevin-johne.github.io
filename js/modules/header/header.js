!function(t,i,e,n){i(["utils/helper","utils/event","services/router"],function(t,i,e){return{defaults:function(){return{link:"nav-link",activeClass:"current"}},ready:function(i,n){this.options=t.extend(this.defaults(),n),this.navItems=document.querySelectorAll("."+this.options.link),this.updateNavigation(null,e.getRoot())},events:function(){i.on("route/update",this.updateNavigation.bind(this))},updateNavigation:function(t,i){this.currentActive||(this.currentActive=this.filterActiveNavItem(this.navItems)),this.currentActive.forEach?this.currentActive.forEach(function(t){this.removeActiveClass(t)}.bind(this)):this.removeActiveClass(this.currentActive),this.currentActive=this.matchItemWithNewRoot(i),this.currentActive&&this.currentActive.classList.add(this.options.activeClass)},removeActiveClass:function(t){t.classList.remove(this.options.activeClass)},matchItemWithNewRoot:function(t){var i,e=new RegExp("#"+t,"g");return i=Array.prototype.filter.call(this.navItems,function(t){return t.href.match(e)}),i[0]},filterActiveNavItem:function(t){return Array.prototype.filter.call(t,function(t){return t.classList.contains(this.options.activeClass)?!0:void 0}.bind(this))}}})}(this.window,this.define,this.require);