!function(e,t,n,i){"use strict";t(["jquery"],function(e){describe("Base Module",function(){before(function(){n.undef("utils/module")}),afterEach(function(){n.undef("utils/module")}),it("should extend from an object literal",function(e){require(["utils/module"],function(t){var n=t.extend({test:"test",testFunction:function(){}}),i=new n;expect(i).to.have.property("test"),expect(i.testFunction).to.be.a("function"),e()})}),it("should call the default constructor methods",function(e){var t={ready:function(){},events:function(){}},n=sinon.mock(t);require(["utils/module"],function(i){var o=i.extend(t);new o;n.expects("ready").once(),n.expects("events").once(),e()})}),it("should call custom constructor methods",function(e){var t={constructors:["testConstructor"],testConstructor:function(){}},n=sinon.mock(t);require(["utils/module"],function(i){var o=i.extend(t);new o;n.expects("testConstructor").once(),e()})}),it("should call constructor methods with arguments",function(e){var t={ready:function(){}},n=sinon.mock(t),i="test",o={};require(["utils/module"],function(u){var r=u.extend(t);new r(i,o);n.expects("ready").once().withArgs(i,o),e()})}),it("should extend an existing class",function(e){var t={ready:function(){},test:function(){}},n={ready:function(){}};require(["utils/module"],function(i){var o=i.extend(t),u=o.extend(n);expect(o).not.to.be.equal(u),expect(o.prototype.ready).not.to.be.equal(u.prototype.ready),expect(o.prototype.test).to.be.equal(u.prototype.test),e()})}),it('should be named "module" by default',function(e){var t={};require(["utils/module"],function(n){var i=n.extend(t),o=new i;expect(o.name).to.be.equal("module"),e()})}),it("should have a name given in the constructor",function(e){var t={},n="test";require(["utils/module"],function(i){var o=i.extend(t),u=new o(null,{},n);expect(u.name).to.be.equal(n),e()})}),it("should trigger an event before initialized",function(t){var n={ready:function(){}},i=e("<div></div>");require(["utils/module"],function(e){var o=e.extend(n);i.one("beforeInit",function(){t()});new o(i)})}),it("should trigger a namespaced event before initialized",function(t){var n={ready:function(){}},i="test",o=e("<div></div>");require(["utils/module"],function(e){var u=e.extend(n);o.one("beforeInit."+i,function(){t()});new u(o,{},i)})}),it("should trigger an event after being initialized",function(t){var n={ready:function(){}},i=e("<div></div>");require(["utils/module"],function(e){var o=e.extend(n);i.one("afterInit",function(){t()});new o(i)})}),it("should trigger a namespaced event after being initialized",function(t){var n={ready:function(){}},i="test",o=e("<div></div>");require(["utils/module"],function(e){var u=e.extend(n);o.one("afterInit."+i,function(){t()});new u(o,{},i)})}),it("should call the fail method when a promise fails",function(t){var n={ready:function(){var t=e.Deferred();return t.reject(),t},fail:function(){t()}},i="test",o=e("<div></div>");require(["utils/module"],function(e){var t=e.extend(n);new t(o,{},i)})}),it("should call the fail method when a promise fails and pass data",function(t){var n={ready:function(){var t=e.Deferred();return t.reject({error:!0}),t},fail:function(e,n,i){i.error===!0&&t()}},i="test",o=e("<div></div>");require(["utils/module"],function(e){var t=e.extend(n);new t(o,{},i)})}),it("should call the defined fail method when a promise",function(t){var n={failMethod:"readyFailed",ready:function(){var t=e.Deferred();return t.reject(),t},readyFailed:function(){t()}},i="test",o=e("<div></div>");require(["utils/module"],function(e){var t=e.extend(n);new t(o,{},i)})}),it("should have a unique id",function(t){var n={ready:function(){}},i="test",o=e("<div></div>");require(["utils/module"],function(e){var u=e.extend(n),r=new u(o,{},i),d=new u(o,{},i);expect(r.uid).not.equal(d.uid),t()})})})})}(this,this.define,this.requirejs);